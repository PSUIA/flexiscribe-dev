{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 28, "column": 0}, "map": {"version":3,"sources":["file:///C:/Python%20Projects/PSUIA/fLexiScribe/client/app/auth/student/forgot-password/page.jsx"],"sourcesContent":["\"use client\";\r\nimport { useState } from \"react\";\r\nimport { useRouter } from \"next/navigation\";\r\nimport { EyeIcon, EyeSlashIcon } from \"@heroicons/react/24/outline\";\r\nimport { FiArrowLeft } from \"react-icons/fi\";\r\n\r\nexport default function ForgotPassword() {\r\n  const router = useRouter();\r\n  const [step, setStep] = useState(1); // 1: email, 2: code, 3: new password\r\n  const [email, setEmail] = useState(\"\");\r\n  const [code, setCode] = useState(\"\");\r\n  const [newPassword, setNewPassword] = useState(\"\");\r\n  const [confirmPassword, setConfirmPassword] = useState(\"\");\r\n  const [showPassword, setShowPassword] = useState(false);\r\n  const [showConfirmPassword, setShowConfirmPassword] = useState(false);\r\n  const [error, setError] = useState(\"\");\r\n  const [success, setSuccess] = useState(\"\");\r\n  const [generatedCode, setGeneratedCode] = useState(\"\");\r\n\r\n  const handleBack = () => {\r\n    router.push(\"/auth/student/login\");\r\n  };\r\n\r\n  // Password Strength Checker\r\n  const getPasswordStrength = (pwd) => {\r\n    if (!pwd) return { label: \"\", color: \"\" };\r\n    if (pwd.length < 6) return { label: \"Weak\", color: \"bg-red-400\" };\r\n    if (pwd.length < 10) return { label: \"Medium\", color: \"bg-yellow-300\" };\r\n    return { label: \"Strong\", color: \"bg-green-400\" };\r\n  };\r\n\r\n  const strength = getPasswordStrength(newPassword);\r\n\r\n  // Step 1: Send verification code\r\n  const handleSendCode = (e) => {\r\n    e.preventDefault();\r\n    setError(\"\");\r\n    setSuccess(\"\");\r\n\r\n    if (!email) {\r\n      setError(\"Please enter your email address\");\r\n      return;\r\n    }\r\n\r\n    // Basic email validation\r\n    const emailRegex = /^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/;\r\n    if (!emailRegex.test(email)) {\r\n      setError(\"Please enter a valid email address\");\r\n      return;\r\n    }\r\n\r\n    // Generate a 4-digit code\r\n    const code = Math.floor(1000 + Math.random() * 9000).toString();\r\n    setGeneratedCode(code);\r\n\r\n    // Simulate sending email (in production, this would call an API)\r\n    console.log(`Verification code sent to ${email}: ${code}`);\r\n    \r\n    setSuccess(`Verification code sent to ${email}`);\r\n    setTimeout(() => {\r\n      setStep(2);\r\n      setSuccess(\"\");\r\n    }, 1500);\r\n  };\r\n\r\n  // Step 2: Verify code\r\n  const handleVerifyCode = (e) => {\r\n    e.preventDefault();\r\n    setError(\"\");\r\n    setSuccess(\"\");\r\n\r\n    if (!code) {\r\n      setError(\"Please enter the verification code\");\r\n      return;\r\n    }\r\n\r\n    if (code !== generatedCode) {\r\n      setError(\"Invalid verification code\");\r\n      return;\r\n    }\r\n\r\n    setSuccess(\"Code verified successfully!\");\r\n    setTimeout(() => {\r\n      setStep(3);\r\n      setSuccess(\"\");\r\n    }, 1000);\r\n  };\r\n\r\n  // Step 3: Reset password\r\n  const handleResetPassword = (e) => {\r\n    e.preventDefault();\r\n    setError(\"\");\r\n    setSuccess(\"\");\r\n\r\n    if (!newPassword || !confirmPassword) {\r\n      setError(\"Please fill in all fields\");\r\n      return;\r\n    }\r\n\r\n    if (newPassword.length < 6) {\r\n      setError(\"Password must be at least 6 characters long\");\r\n      return;\r\n    }\r\n\r\n    if (newPassword !== confirmPassword) {\r\n      setError(\"Passwords do not match\");\r\n      return;\r\n    }\r\n\r\n    // In production, this would call an API to update the password\r\n    setSuccess(\"Password reset successful! Redirecting...\");\r\n    setTimeout(() => {\r\n      router.push(\"/auth/student/login\");\r\n    }, 2000);\r\n  };\r\n\r\n  const handleResendCode = () => {\r\n    const code = Math.floor(1000 + Math.random() * 9000).toString();\r\n    setGeneratedCode(code);\r\n    console.log(`New verification code sent to ${email}: ${code}`);\r\n    setSuccess(\"New code sent to your email\");\r\n    setTimeout(() => setSuccess(\"\"), 3000);\r\n  };\r\n\r\n  return (\r\n    <div className=\"container\">\r\n      <button className=\"btn-back fixed top-4 right-4\" onClick={handleBack}>\r\n        <FiArrowLeft size={18} />\r\n        Back\r\n      </button>\r\n      <div className=\"neu-card w-full max-w-md mx-auto justify-center\">\r\n        {/* Title */}\r\n        <div className=\"flex flex-col items-center mb-6 mt-2\">\r\n          <span className=\"font-extrabold text-4xl text-center mb-2\">\r\n            {step === 1 && \"Forgot Password\"}\r\n            {step === 2 && \"Verify Code\"}\r\n            {step === 3 && \"Reset Password\"}\r\n          </span>\r\n          <span className=\"text-center text-md mb-2\">\r\n            {step === 1 && \"Enter your email to receive a verification code\"}\r\n            {step === 2 && \"Enter the 4-digit code sent to your email\"}\r\n            {step === 3 && \"Create a new password for your account\"}\r\n          </span>\r\n        </div>\r\n\r\n        {/* Success message */}\r\n        {success && <p className=\"success-msg mb-4 text-center\">{success}</p>}\r\n\r\n        {/* Error message */}\r\n        {error && <p className=\"error-msg mb-4 text-center\">{error}</p>}\r\n\r\n        {/* Step 1: Email Input */}\r\n        {step === 1 && (\r\n          <form onSubmit={handleSendCode} className=\"space-y-8\">\r\n            <div>\r\n              <label className=\"block text-sm font-medium mb-2\">\r\n                Email Address\r\n              </label>\r\n              <input\r\n                type=\"email\"\r\n                className=\"neu-input\"\r\n                value={email}\r\n                onChange={(e) => setEmail(e.target.value)}\r\n                placeholder=\"student@example.com\"\r\n              />\r\n            </div>\r\n            <button type=\"submit\" className=\"neu-btn\">\r\n              Send Verification Code\r\n            </button>\r\n          </form>\r\n        )}\r\n\r\n        {/* Step 2: Code Verification */}\r\n        {step === 2 && (\r\n          <form onSubmit={handleVerifyCode} className=\"space-y-8\">\r\n            <div>\r\n              <label className=\"block text-sm font-medium mb-2\">\r\n                Verification Code\r\n              </label>\r\n              <input\r\n                type=\"text\"\r\n                className=\"neu-input text-center text-2xl tracking-widest\"\r\n                value={code}\r\n                onChange={(e) => setCode(e.target.value.replace(/\\D/g, \"\").slice(0, 4))}\r\n                placeholder=\"0000\"\r\n                maxLength={4}\r\n              />\r\n              <p className=\"text-sm text-center mt-3\">\r\n                Didn't receive the code?{\" \"}\r\n                <button\r\n                  type=\"button\"\r\n                  onClick={handleResendCode}\r\n                  className=\"font-semibold hover:underline\"\r\n                >\r\n                  Resend\r\n                </button>\r\n              </p>\r\n            </div>\r\n            <button type=\"submit\" className=\"neu-btn\">\r\n              Verify Code\r\n            </button>\r\n          </form>\r\n        )}\r\n\r\n        {/* Step 3: New Password */}\r\n        {step === 3 && (\r\n          <form onSubmit={handleResetPassword} className=\"space-y-8\">\r\n            {/* New Password */}\r\n            <div>\r\n              <label className=\"block text-sm font-medium mb-2\">\r\n                New Password\r\n              </label>\r\n              <div className=\"relative\">\r\n                <input\r\n                  type={showPassword ? \"text\" : \"password\"}\r\n                  className=\"neu-input pr-12\"\r\n                  value={newPassword}\r\n                  onChange={(e) => setNewPassword(e.target.value)}\r\n                  placeholder=\"••••••••\"\r\n                />\r\n                <button\r\n                  type=\"button\"\r\n                  onClick={() => setShowPassword(!showPassword)}\r\n                  className=\"absolute right-3 top-1/2 -translate-y-1/2 text-gray-500 hover:text-gray-700\"\r\n                >\r\n                  {showPassword ? (\r\n                    <EyeIcon className=\"h-5 w-5\" />\r\n                  ) : (\r\n                    <EyeSlashIcon className=\"h-5 w-5\" />\r\n                  )}\r\n                </button>\r\n              </div>\r\n\r\n              {/* Password strength */}\r\n              {strength.label && (\r\n                <div className=\"mt-3\">\r\n                  <div className=\"flex justify-between text-xs mb-1\">\r\n                    <span className=\"text-gray-600\">{strength.label}</span>\r\n                  </div>\r\n                  <div className=\"w-full h-2 bg-gray-200 rounded-full\">\r\n                    <div\r\n                      className={`h-2 rounded-full ${strength.color}`}\r\n                      style={{\r\n                        width:\r\n                          strength.label === \"Weak\"\r\n                            ? \"33%\"\r\n                            : strength.label === \"Medium\"\r\n                            ? \"66%\"\r\n                            : \"100%\",\r\n                      }}\r\n                    ></div>\r\n                  </div>\r\n                </div>\r\n              )}\r\n            </div>\r\n\r\n            {/* Confirm Password */}\r\n            <div>\r\n              <label className=\"block text-sm font-medium mb-2\">\r\n                Confirm Password\r\n              </label>\r\n              <div className=\"relative\">\r\n                <input\r\n                  type={showConfirmPassword ? \"text\" : \"password\"}\r\n                  className=\"neu-input pr-12\"\r\n                  value={confirmPassword}\r\n                  onChange={(e) => setConfirmPassword(e.target.value)}\r\n                  placeholder=\"••••••••\"\r\n                />\r\n                <button\r\n                  type=\"button\"\r\n                  onClick={() => setShowConfirmPassword(!showConfirmPassword)}\r\n                  className=\"absolute right-3 top-1/2 -translate-y-1/2 text-gray-500 hover:text-gray-700\"\r\n                >\r\n                  {showConfirmPassword ? (\r\n                    <EyeIcon className=\"h-5 w-5\" />\r\n                  ) : (\r\n                    <EyeSlashIcon className=\"h-5 w-5\" />\r\n                  )}\r\n                </button>\r\n              </div>\r\n            </div>\r\n\r\n            <button type=\"submit\" className=\"neu-btn\">\r\n              Reset Password\r\n            </button>\r\n          </form>\r\n        )}\r\n\r\n        {/* Footer */}\r\n        <p className=\"mt-10 text-center text-sm\">\r\n          Remember your password?{\" \"}\r\n          <a href=\"/auth/student/login\" className=\"font-semibold hover:underline\">\r\n            Back to Login\r\n          </a>\r\n        </p>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n"],"names":[],"mappings":"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"}}]
}